"use strict";const username=document.querySelector(".js-inputUser"),password=document.querySelector(".js-inputPassword"),button=document.querySelector(".js-button"),container=document.querySelector(".js-container"),closeSection=document.getElementById("sectionClose");let login=[],results=[],html="";function list(){for(const i of results)html+=`<li id=${i.id} class="page__main--sectionFile__sectionList--list hidden js-list">`,html+=`<h4 class="page__main--sectionFile__sectionList--list__name">Fichero: ${i.fileName}</h4>`,html+=`<p class="page__main--sectionFile__sectionList--list__hash">Md5: ${i.hashmd5}</p>`,html+=`<p class="page__main--sectionFile__sectionList--list__insertion">Fecha de inserción: ${i.insertionDate}</p>`,html+=`<p class="page__main--sectionFile__sectionList--list__lastUpdate">Última actualización: ${i.lastUpdate}</p>`,html+=`<p class="page__main--sectionFile__sectionList--list__systemConcerned">Sistema operativo: ${i.systemConcerned}</p>`,html+="</li>";container.innerHTML=html,listenList()}function loginCredentials(){username.value===login.username&&password.value===login.password?(html="",list(),closeSection.classList.add("hidden"),username.value="",password.value=""):(username.value="",password.value="",html="",html+="<div> Usuario o contraseña incorrecta </div>"),container.innerHTML=html,listenList()}function handleList(i){const s=i.currentTarget.id,e=results[s-1];html=" ",html+='<article class="page__main--sectionFile__sectionInfo--info"> <h3 class="page__main--sectionFile__sectionInfo--info__title">Información </h3>',html+=`<p class="page__main--sectionFile__sectionInfo--info__name"> Nombre completo: ${e.fileNameComplete} </p>`,html+=`<p class="page__main--sectionFile__sectionInfo--info__extension">Extensión: ${"PDF"===e.fileExtension?'PDF <i class="fas fa-file-pdf"></i>':""} </p>`,html+=`<p class="page__main--sectionFile__sectionInfo--info__size"> Tamañaño: ${e.fileSize} </p>`,html+=`<ul class="page__main--sectionFile__sectionInfo--info__list"> <li class="page__main--sectionFile__sectionInfo--info__list--hash"> Hash md5: ${e.hash.md5}<li> `,html+=`<li class="page__main--sectionFile__sectionInfo--info__list--hash"> Hash sha256: ${e.hash.sha256}</li> `,html+=`<li class="page__main--sectionFile__sectionInfo--info__list--hash"> Hash sha-1: ${e.hash.sha1}</li></ul> `,html+=`<p class="page__main--sectionFile__sectionInfo--info__ip"> Dirección <span class="page__main--sectionFile__sectionInfo--info__ip--span">ip</span> a las que se ha conectado: ${e.ip} </p>\n  `,html+=`<p class="page__main--sectionFile__sectionInfo--info__score"> Puntuación obtenida tras el análisis: ${e.scoreAnalysis}</p>`,html+=`<ul class="page__main--sectionFile__sectionInfo--info__list"> Listado de ficheros generados: <li class="page__main--sectionFile__sectionInfo--info__list--file">${e.fileList.fileOne}</li>`,html+=` <li class="page__main--sectionFile__sectionInfo--info__list--file">${e.fileList.fileTwo}</li>`,html+=` <li class="page__main--sectionFile__sectionInfo--info__list--file">${e.fileList.fileThree}</li></ul>`,html+=`<ul class="page__main--sectionFile__sectionInfo--info__list"> Listado de antivirus: <li class="page__main--sectionFile__sectionInfo--info__list--antivirus">Avast: ${"clean"===e.antivirusList.avast?'Limpio <i class="fas fa-check"></i>':'Peligroso <i class="fas fa-exclamation-triangle"></i></i>'}</li>`,html+=`<li class="page__main--sectionFile__sectionInfo--info__list--antivirus">McAfree: ${"clean"===e.antivirusList.mcafree?'Limpio <i class="fas fa-check"></i>':'Peligroso <i class="fas fa-exclamation-triangle"></i></i>'}</li>`,html+=`<li class="page__main--sectionFile__sectionInfo--info__list--antivirus">BitDefender: ${"clean"===e.antivirusList.bitdefender?'Limpio <i class="fas fa-check"></i>':'Peligroso <i class="fas fa-exclamation-triangle"></i></i>'}</li>`,html+=`<li class="page__main--sectionFile__sectionInfo--info__list--antivirus">Panda: ${"clean"===e.antivirusList.panda?'Limpio <i class="fas fa-check"></i>':'Peligroso <i class="fas fa-exclamation-triangle"></i></i>'}</li>`,html+=' </ul><form><input\n  class="js-buttonBack"\n  type="button"\n  value="Atrás"\n/></form></article>',container.innerHTML=html,back()}function handlerBack(){html="",list()}function back(){const i=document.querySelectorAll(".js-buttonBack");for(const s of i)s.addEventListener("click",handlerBack)}function listenList(){const i=document.querySelectorAll(".js-list");for(const s of i)s.addEventListener("click",handleList)}function api(){fetch("https://maitaneabad.github.io/api-technical-test-ravenloop/api/data.json").then(i=>i.json()).then(i=>{login=i.login,results=i.results,console.log(login),console.log(results)})}function handlerButton(){loginCredentials()}api(),button.addEventListener("click",handlerButton);